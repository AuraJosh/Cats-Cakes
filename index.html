<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple Support - Chat</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%236e6e73' d='M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zM10.5 7h3v3h-3V7zm0 4h3v6h-3v-6z'%3E%3C/path%3E%3C/svg%3E" type="image/svg+xml">
</head>
<body>

    <header class="apple-header">
        <div class="apple-logo">
            <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM5.5 4.5a.5.5 0 0 1 1 0v.5a.5.5 0 0 1-1 0v-.5zm3 0a.5.5 0 0 1 1 0v.5a.5.5 0 0 1-1 0v-.5zm-.707 5.293a.5.5 0 0 1-.707 0l-1.5-1.5a.5.5 0 0 1 .707-.707L7.5 9.293l1.207-1.207a.5.5 0 0 1 .707.707l-1.5 1.5z"/>
            </svg>
        </div>
        <nav>
            <a href="#">Store</a>
            <a href="#">Mac</a>
            <a href="#">iPad</a>
            <a href="#">iPhone</a>
            <a href="#">Watch</a>
            <a href="#">AirPods</a>
            <a href="#">TV & Home</a>
            <a href="#">Entertainment</a>
            <a href="#">Accessories</a>
            <a href="#">Support</a>
        </nav>
        <div class="header-icons">
            <svg width="18" height="18" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                <path d="M11.75 11.75a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0zM11.75 12.5a5.25 5.25 0 1 1 0-10.5 5.25 5.25 0 0 1 0 10.5z"/>
                <path d="M14.5 14.5l-3.25-3.25"/>
            </svg>
            <svg width="18" height="18" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                <path d="M5.5 3a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zM8 0a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
                <path d="M12 9H4a4 4 0 0 0-4 4v2a1 1 0 0 0 1 1h14a1 0 0 0 0-1v-2a4 4 0 0 0-4-4z"/>
            </svg>
        </div>
    </header>

    <main class="content-area">
        <h1 class="page-title">Apple Support Chat</h1>
        <p class="page-subtitle">Get instant help from our virtual assistant.</p>

        <div class="info-section">
            <p>Our intelligent chatbot is here to assist you with common questions, troubleshoot issues, and guide you to the right resources. For more complex inquiries, the bot can connect you to a human expert.</p>
            <p>Look for the chat icon in the bottom right corner of your screen to get started!</p>
        </div>
    </main>

    <iframe
        id="aura-chatbot-iframe"
        src="https://d2941z6xr67omh.cloudfront.net/chatbot-frontend/chatbot-widget.html"
        frameborder="0"
        scrolling="no"
        title="Apple Support Chatbot"
        style="
            border:none;
            position:fixed;
            bottom:20px; /* Adjusted for more padding */
            right:20px; /* Adjusted for more padding */
            z-index:9999;
            width:90px;
            height:90px;
            overflow:hidden;
            pointer-events:auto;
            transition: width 0.3s ease-out, height 0.3s ease-out, box-shadow 0.3s ease-out; /* Added box-shadow transition */
            border-radius: 50%; /* Make initial button round */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* Subtle shadow for the button */
        "
    ></iframe>

    <script>
        const chatbotConfig = {
            accountId: 'AUR000',
            apiKey: 'r3m2dP9EwH8PoXANYgNZV6JCOcRiOOTGaIdKVR63',
            apiEndpoint: 'https://uxa8aixawk.execute-api.eu-west-2.amazonaws.com/default/chat',
            themeColor: '#007AFF' // Apple's standard blue
        };

        document.addEventListener('DOMContentLoaded', function() {
            const chatbotIframe = document.getElementById('aura-chatbot-iframe');

            if (chatbotIframe) {
                const fullWidth = 420;
                const fullHeight = 540;
                const toggleButtonWidth = 90;
                const toggleButtonHeight = 90;

                chatbotIframe.addEventListener('load', function() {
                    chatbotIframe.contentWindow.postMessage({
                        type: 'init',
                        config: chatbotConfig
                    }, '*');
                });

                window.addEventListener('message', function(event) {
                    if (event.data && event.data.type === 'chatbotState') {
                        if (event.data.isOpen) {
                            chatbotIframe.style.width = `${fullWidth}px`;
                            chatbotIframe.style.height = `${fullHeight}px`;
                            chatbotIframe.style.borderRadius = '12px'; // Rounded corners for the expanded chat window
                            chatbotIframe.style.boxShadow = '0 8px 30px rgba(0, 0, 0, 0.2)'; // More pronounced shadow when open
                        } else {
                            chatbotIframe.style.width = `${toggleButtonWidth}px`;
                            chatbotIframe.style.height = `${toggleButtonHeight}px`;
                            chatbotIframe.style.borderRadius = '50%'; // Back to round for the button
                            chatbotIframe.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.1)'; // Subtle shadow for the button
                        }
                    }
                });
            }
        });
    </script>

</body>
</html>
